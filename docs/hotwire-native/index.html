<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="canonical" href="https://turbo-laravel.com/docs/hotwire-native">
        <meta name="description" content="Hotwire Native Helpers">
        <title>Hotwire Native</title>
        <link rel="apple-touch-icon" sizes="180x180" href="/assets/manifest/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/assets/manifest/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/assets/manifest/favicon-16x16.png">
        <link rel="manifest" href="/assets/site.webmanifest">
        <link rel="preload" href="/assets/fonts/OpenSans-ExtraBold.ttf" as="font" type="font/ttf" crossorigin>
        <link rel="preload" href="/assets/fonts/Jost-Regular.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="preload" href="/assets/fonts/Jost-Italic.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="stylesheet" href="/assets/build/css/main.css?id=7c6f8b27ddcb18db8e76e62fda1aa439">
        <script defer src="/assets/build/js/main.js?id=b0f29cd4e71d41b4ee570d0f42344180"></script>
    </head>
    <body class="text-zinc-900 text-lg font-sans antialiased bg-zinc-700/5 min-h-screen" data-controller="search" data-action="keydown@window->search#focus">
        <header class="px-4 py-6 lg:px-10 xl:px-20 lg:py-10 flex items-center space-x-2 justify-between">
  <div class="relative flex-1 lg:flex-auto flex justify-between items-center space-x-4 sm:space-x-2">
    <h1 class="text-3xl sm:text-4xl font-extrabold font-heading">
      <a href="/">Turbo Laravel</a>
    </h1>

    <nav class="inline-block lg:hidden">
      <details class="group" data-search-target="nav">
        <summary class="list-none">
          <span>
            <span class="sr-only">Navigation</span>

            <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-8 rotate-0 transition group-open:rotate-90">
              <path class="opacity-100 transition group-open:opacity-0" stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
              <path class="transition opacity-0 group-open:opacity-100" stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
            </svg>
          </span>
        </summary>

        <div class="bg-white/50 z-10 absolute top-12 -inset-x-4 backdrop-blur-xl">
          <div class="bg-zinc-700/5 px-4 py-6 backdrop-blur">
            <form action="/docs/search" method="GET" class="px-4">
  <label for="search" class="sr-only">Search</label>
  <input data-search-target="mobile" type="search" name="q" class="search-input rounded border border-zinc-900/5 px-4 py-2 text-base leading-3 shadow w-full" placeholder="Search 2.x docs..." />
  <button type="submit" class="sr-only">Search</button>
</form>

            <ul class="space-y-6 -mb-2 mt-4">
              <li>
                <a href="/docs" class="px-4 py-2 font-medium rounded-full transition hover:bg-white/90 flex items-center space-x-1">
                  <span>Documentation</span>
                </a>

                  <div class="mx-4 pl-3 border-l-4 border-zinc-900/30">
  <ul class="">
        <li class="px-2 py-1 font-heading font-extrabold uppercase text-sm text-zinc-900/40">Prologue</li>
    <li class="children mt-2">
      <ul class="list-inside space-y-1 text-lg">
                <li><a href="/docs/upgrade" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1">Upgrade Guide</a></li>
              </ul>
    </li>
        <li class="px-2 py-1 font-heading font-extrabold uppercase text-sm text-zinc-900/40">Getting Started</li>
    <li class="children mt-2">
      <ul class="list-inside space-y-1 text-lg">
                <li><a href="/docs/installation" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1">Installation</a></li>
                <li><a href="/docs/overview" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1">Overview</a></li>
                <li><a href="/docs/conventions" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1">Conventions</a></li>
              </ul>
    </li>
        <li class="px-2 py-1 font-heading font-extrabold uppercase text-sm text-zinc-900/40">Essentials</li>
    <li class="children mt-2">
      <ul class="list-inside space-y-1 text-lg">
                <li><a href="/docs/helpers" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1">Helpers</a></li>
                <li><a href="/docs/turbo-frames" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1">Turbo Frames</a></li>
                <li><a href="/docs/turbo-streams" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1">Turbo Streams</a></li>
                <li><a href="/docs/broadcasting" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1">Broadcasting</a></li>
                <li><a href="/docs/validation-response-redirects" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1">Validation Redirects</a></li>
                <li><a href="/docs/csrf" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1">CSRF Protection</a></li>
                <li><a href="/docs/hotwire-native" class="font-bold transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1">Hotwire Native</a></li>
                <li><a href="/docs/testing" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1">Testing</a></li>
                <li><a href="/docs/known-issues" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1">Known Issues</a></li>
              </ul>
    </li>
      </ul>
</div>
              </li>
              <li>
                <a href="https://github.com/hotwired-laravel/turbo-laravel" class="px-4 py-2 font-medium rounded-full transition hover:bg-zinc-900/20">Source Code</a>
              </li>
              <li class="space-y-6">
                <a href="/bootcamp/introduction" class="px-4 py-2 font-medium rounded-full transition hover:bg-white/90">Bootcamp</a>
                              </li>
              <!-- <li><a href="/demo" class="px-4 py-2 font-medium rounded-full transition hover:bg-white/90">Demo</a></li> -->
            </ul>
          </div>
        </div>
      </details>
    </nav>
  </div>

  <nav class="hidden lg:block">
    <ul class="flex items-center space-x-6 -my-2">
      <li>
        <div class="group relative py-2">
          <a href="/docs" class="bg-white/90 px-4 py-2 font-medium rounded-full transition hover:bg-white/90 flex items-center space-x-1">
            <span>Documentation</span>

            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
              <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
            </svg>
          </a>

          <div class="absolute p-4 top-14 inset-x opacity-0 scale-0 -translate-y-8 transition group-hover:translate-y-0 group-hover:scale-100 group-hover:opacity-100 rounded bg-white shadow z-10">
            <ul class="space-y-1">
              <li><a href="/docs/installation" class="block px-2 py-1 bg-zinc-900/20 rounded">Version <span class="">2.2.0</span></a></li>
              <li><a href="/1.x/docs/installation" class="block px-2 py-1  rounded">Version <span class="">1.12.2</span></a></li>
            </ul>
          </div>
        </div>
      </li>
      <li><a href="https://github.com/hotwired-laravel/turbo-laravel" class="px-4 py-2 font-medium rounded-full transition hover:bg-white/90">Source Code</a></li>
      <li><a href="/bootcamp/introduction" class=" px-4 py-2 font-medium rounded-full transition hover:bg-white/90">Bootcamp</a></li>
      <!-- <li><a href="/demo" class=" px-4 py-2 font-medium rounded-full transition hover:bg-white/90">Demo</a></li> -->
    </ul>
  </nav>
</header>

          <div class="bg-white/90 custom-border px-6 py-20 sm:flex space-x-6">
    <div class="sm:flex sm:space-x-12 sm:max-w-7xl w-full mx-auto">
      <aside data-search-target="aside" class="relative w-1/4 hidden lg:block">
        <div class="sticky top-4 block space-y-4">
            <form action="/docs/search" method="GET">
  <label for="search" class="sr-only">Search</label>
  <input data-search-target="web" type="text" name="q" placeholder="Search v2 docs... (press &quot;/&quot; to focus)" class="search-input rounded border border-zinc-900/5 px-4 py-2 text-base leading-3 shadow w-full" />
</form>

            <ul class="[&_.children]:mb-4 text-base">
    <li class="px-2 py-1 font-heading font-extrabold uppercase text-zinc-900/40">Prologue</li>
  <li class="children mt-2">
    <ul class="list-inside space-y-1">
            <li><a href="/docs/upgrade" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1 rounded">Upgrade Guide</a></li>
          </ul>
  </li>
    <li class="px-2 py-1 font-heading font-extrabold uppercase text-zinc-900/40">Getting Started</li>
  <li class="children mt-2">
    <ul class="list-inside space-y-1">
            <li><a href="/docs/installation" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1 rounded">Installation</a></li>
            <li><a href="/docs/overview" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1 rounded">Overview</a></li>
            <li><a href="/docs/conventions" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1 rounded">Conventions</a></li>
          </ul>
  </li>
    <li class="px-2 py-1 font-heading font-extrabold uppercase text-zinc-900/40">Essentials</li>
  <li class="children mt-2">
    <ul class="list-inside space-y-1">
            <li><a href="/docs/helpers" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1 rounded">Helpers</a></li>
            <li><a href="/docs/turbo-frames" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1 rounded">Turbo Frames</a></li>
            <li><a href="/docs/turbo-streams" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1 rounded">Turbo Streams</a></li>
            <li><a href="/docs/broadcasting" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1 rounded">Broadcasting</a></li>
            <li><a href="/docs/validation-response-redirects" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1 rounded">Validation Redirects</a></li>
            <li><a href="/docs/csrf" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1 rounded">CSRF Protection</a></li>
            <li><a href="/docs/hotwire-native" class="bg-zinc-900/20 transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1 rounded">Hotwire Native</a></li>
            <li><a href="/docs/testing" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1 rounded">Testing</a></li>
            <li><a href="/docs/known-issues" class=" transition hover:bg-zinc-900/20 w-full inline-block px-2 py-1 rounded">Known Issues</a></li>
          </ul>
  </li>
  </ul>
        </div>
      </aside>

      <main class="flex-1 min-w-0 max-w-3xl">
        <div class="prose prose-lg overflow-hidden prose-zinc [&_code:not(pre_code)]:text-wrap [&_code:not(pre_code)]:break-words prose-headings:font-heading prose-headings:font-extrabold max-w-none w-full">
            <h1>Hotwire Native</h1>

<p>Hotwire also has a <a href="https://native.hotwired.dev/">mobile side</a> and Turbo Laravel provides some helpers to help integrating with that.</p>

<p>Turbo visits made by a Hotwire Native client should send a custom <code>User-Agent</code> header. Using that header, we can detect in the backend that a request is coming from a Hotwire Native client instead of a regular web browser.</p>

<p>This is useful if you want to customize the behavior a little bit different based on that information. For instance, you may want to include some elements for mobile users, like a mobile-only CSS stylesheet, for instance. To do so, you may use the <code>@hotwirenative</code> Blade directive in your Blade views:</p>

<pre><code class="language-blade"><span class="hl-keyword">@hotwirenative</span>
    &lt;<span class="hl-keyword">link</span> <span class="hl-property">rel</span>=&quot;stylesheet&quot; <span class="hl-property">href</span>=&quot;mobile.css&quot;&gt;
<span class="hl-keyword">@endhotwirenative</span>
</code></pre>

<p>Alternatively, you may want to include some elements only if the client requesting it is <em>NOT</em> a Hotwire Native client using the <code>@unlesshotwirenative</code> Blade helpers:</p>

<pre><code class="language-blade"><span class="hl-keyword">@unlesshotwirenative</span>
    &lt;<span class="hl-keyword">h1</span>&gt;Hello, Non-Hotwire Native Users!&lt;/<span class="hl-keyword">h1</span>&gt;
<span class="hl-keyword">@endunlesshotwirenative</span>
</code></pre>

<p>You may also check if the request was made from a Hotwire Native visit using the request macro:</p>

<pre><code class="language-php"><span class="hl-keyword">if</span> (<span class="hl-property">request</span>()-&gt;<span class="hl-property">wasFromHotwireNative</span>()) {
    <span class="hl-comment">// ...</span>
}
</code></pre>

<p>Or the Turbo Facade directly, like so:</p>

<pre><code class="language-php"><span class="hl-keyword">use</span> <span class="hl-type">HotwiredLaravel\TurboLaravel\Facades\Turbo</span>;

<span class="hl-keyword">if</span> (<span class="hl-type">Turbo</span>::<span class="hl-property">isHotwireNativeVisit</span>()) {
    <span class="hl-comment">// ...</span>
}
</code></pre>

<h2>Interacting With Hotwire Native Navigation</h2>

<p>Hotwire Native will hook into Turbo's visits so it displays them on mobile mimicking the mobile way of stacking screens instead of just replace elements on the same screen. This helps the native feel of our hybrid app.</p>

<p>However, sometimes we may need to customize the behavior of form request handler to avoid a weird screen jumping effect happening on the mobile client. Instead of regular redirects, we can send some signals by redirecting to specific routes that are detected by the Hotwire Native client.</p>

<p>For instance, if a form submission request came from a Hotwire Native client, the form was probably rendered on a native modal, which is not part of the screen stack, so we can just tell Turbo to <code>refresh</code> the current screen it has on stack instead. There are 3 signals we can send to the Hotwire Native client:</p>

<table>
<thead>
<tr>
  <th>Signal</th>
  <th>Route</th>
  <th>Description</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>recede</code></td>
  <td><code>/recede_historical_location</code></td>
  <td>Go back to previous screen</td>
</tr>
<tr>
  <td><code>resume</code></td>
  <td><code>/resume_historical_location</code></td>
  <td>Stay on the current screen as is</td>
</tr>
<tr>
  <td><code>refresh</code></td>
  <td><code>/refresh_historical_location</code></td>
  <td>Stay on the current screen but refresh</td>
</tr>
</tbody>
</table>

<p>Sending these signals is a matter of detecting if the request came from a Hotwire Native client and, if so, redirect the user to these signal URLs instead. The Hotwire Native client should detect the redirect was from one of these special routes and trigger the desired behavior.</p>

<p>You may use the <code>InteractsWithHotwireNativeNavigation</code> trait on your controllers to achieve this behavior and fallback to a regular redirect if the request wasn't from a Hotwire Native client:</p>

<pre><code class="language-php"><span class="hl-keyword">use</span> <span class="hl-type">HotwiredLaravel\TurboLaravel\Http\Controllers\Concerns\InteractsWithHotwireNativeNavigation</span>;

<span class="hl-keyword">class</span> <span class="hl-type">TraysController</span> <span class="hl-keyword">extends</span> <span class="hl-type">Controller</span>
{
    <span class="hl-keyword">use</span> <span class="hl-type">InteractsWithHotwireNativeNavigation</span>;

    <span class="hl-keyword">public</span> <span class="hl-keyword">function</span> <span class="hl-property">store</span>()
    {
        <span class="hl-comment">// Tray creation...</span>

        <span class="hl-keyword">return</span> <span class="hl-variable">$this</span>-&gt;<span class="hl-property">recedeOrRedirectTo</span>(<span class="hl-property">route</span>(<span class="hl-value">'trays.show'</span>, <span class="hl-variable">$tray</span>));
    }
}
</code></pre>

<p>In this example, when the request to create trays comes from a Hotwire Native client, we're going to redirect to the <code>/recede_historical_location</code> URL instead of the <code>trays.show</code> route. However, if the request was made from your web app, we're going to redirect the client to the <code>trays.show</code> route.</p>

<p>There are a couple of redirect helpers available:</p>

<pre><code class="language-php"><span class="hl-variable">$this</span>-&gt;<span class="hl-property">recedeOrRedirectTo</span>(string <span class="hl-variable">$url</span>);
<span class="hl-variable">$this</span>-&gt;<span class="hl-property">resumeOrRedirectTo</span>(string <span class="hl-variable">$url</span>);
<span class="hl-variable">$this</span>-&gt;<span class="hl-property">refreshOrRedirectTo</span>(string <span class="hl-variable">$url</span>);
<span class="hl-variable">$this</span>-&gt;<span class="hl-property">recedeOrRedirectBack</span>(string <span class="hl-variable">$fallbackUrl</span>, array <span class="hl-variable">$options</span> = []);
<span class="hl-variable">$this</span>-&gt;<span class="hl-property">resumeOrRedirectBack</span>(string <span class="hl-variable">$fallbackUrl</span>, array <span class="hl-variable">$options</span> = []);
<span class="hl-variable">$this</span>-&gt;<span class="hl-property">refreshOrRedirectBack</span>(string <span class="hl-variable">$fallbackUrl</span>, array <span class="hl-variable">$options</span> = []);
</code></pre>

<p>It's common to flash messages using the <code>-&gt;with()</code> method of the Redirect response in Laravel. However, since a Hotwire Native request will never actually redirect somewhere where the flash message will be rendered, the behavior of the <code>-&gt;with()</code> method was slightly modified too.</p>

<p>If you're setting flash messages like this after a form submission:</p>

<pre><code class="language-php"><span class="hl-keyword">use</span> <span class="hl-type">HotwiredLaravel\TurboLaravel\Http\Controllers\Concerns\InteractsWithHotwireNativeNavigation</span>;

<span class="hl-keyword">class</span> <span class="hl-type">TraysController</span> <span class="hl-keyword">extends</span> <span class="hl-type">Controller</span>
{
    <span class="hl-keyword">use</span> <span class="hl-type">InteractsWithHotwireNativeNavigation</span>;

    <span class="hl-keyword">public</span> <span class="hl-keyword">function</span> <span class="hl-property">store</span>()
    {
        <span class="hl-comment">// Tray creation...</span>

        <span class="hl-keyword">return</span> <span class="hl-variable">$this</span>-&gt;<span class="hl-property">recedeOrRedirectTo</span>(<span class="hl-property">route</span>(<span class="hl-value">'trays.show'</span>, <span class="hl-variable">$tray</span>))
            -&gt;<span class="hl-property">with</span>(<span class="hl-value">'status'</span>, <span class="hl-property">__</span>(<span class="hl-value">'Tray created.'</span>));
    }
}
</code></pre>

<p>If a request was sent from a Hotwire Native client, the flashed messages will be added to the query string instead of flashed into the session like they'd normally be. In this example, it would redirect like this:</p>

<pre><code>/recede_historical_location?status=Tray%20created.
</code></pre>

<p>In the Hotwire Native client, you should be able to intercept these redirects, retrieve the flash messages from the query string and create native toasts, if you'd like to.</p>

<p>If the request wasn't from a Hotwire Native client, the message would be flashed into the session as normal, and the client would receive a redirect to the <code>trays.show</code> route in this case.</p>

<p>If you don't want these routes enabled, feel free to disable them by commenting out the feature on your <code>config/turbo-laravel.php</code> file (make sure the Turbo Laravel configs are published):</p>

<pre><code class="language-php"><span class="hl-keyword">return</span> [
    <span class="hl-value">'features'</span> =&gt; [
        <span class="hl-comment">// Features::hotwireNativeRoutes(),</span>
    ],
];
</code></pre>
        </div>

                    <div class="mt-4 grid grid-cols-1 lg:grid-cols-2 gap-6">
      <div class="relative space-y-1 p-4 rounded border border-zinc-900/10 shadow transition hover:bg-zinc-900/5">
      <div class="text-sm font-heading font-extrabold text-zinc-900/30 uppercase">Previous</div>
      <a class="font-heading font-extrabold text-zinc-900/80" href="/docs/csrf">CSRF Protection <span class="absolute inset-0"></span></a>
    </div>
  
      <div class="lg:col-start-2 relative space-y-1 p-4 rounded border border-zinc-900/10 shadow transition hover:bg-zinc-900/5">
      <div class="text-sm font-heading font-extrabold text-zinc-900/30 uppercase">Next</div>
      <a class="font-heading font-extrabold text-zinc-900/80" href="/docs/testing">Testing <span class="absolute inset-0"></span></a>
    </div>
  </div>
              </main>
    </div>
  </div>

        <footer class="px-6 py-4 sm:px-20 sm:py-10 flex items-center space-x-2 justify-between">
          <p class="text-base text-center w-full">
            Turbo Laravel is maintained by <a href="https://tonysm.com" class="underline text-zinc-900/90">Tony Messias</a>. This is a <em>community project</em>, therefore not affiliated with Laravel nor Hotwire.
          </p>
        </footer>
    </body>
</html>
